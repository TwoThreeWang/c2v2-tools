{{ define "head" }}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO 关键标签 -->
    <title>{{ call .T .title }}</title>
    <meta name="description" content="{{ call .T .description }}">
    {{ if .keywords }}
    <meta name="keywords" content="{{ call .T .keywords }}">{{ end }}
    <link rel="canonical" href="{{ .Canonical }}">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="apple-touch-icon" href="/static/apple-touch-icon.png">

    <!-- Open Graph (Facebook, LinkedIn, etc.) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ call .T .title }}">
    <meta property="og:description" content="{{ call .T .description }}">
    <meta property="og:url" content="{{ .Canonical }}">
    <meta property="og:site_name" content="{{ call .T "app_name" }}">
    <meta property="og:locale" content="{{ if eq .lang " zh" }}zh_CN{{ else }}en_US{{ end }}">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="{{ call .T .title }}">
    <meta name="twitter:description" content="{{ call .T .description }}">

    <!-- Hreflang -->
    {{ range $lang, $url := .Hreflangs }}
    <link rel="alternate" hreflang="{{ $lang }}" href="{{ $url }}">
    {{ end }}
    <link rel="alternate" hreflang="x-default" href="{{ index .Hreflangs " en" }}">

    <!-- 结构化数据 (JSON-LD) -->
    {{ if .SchemaJSON }}
    <script type="application/ld+json">
    {{ .SchemaJSON }}
    </script>
    {{ end }}

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.14.3/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <style>
        /* AlpineJS x-cloak: 隐藏未初始化元素 */
        [x-cloak] {
            display: none !important;
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }

        .card {
            border: 1px solid #e2e8f0;
            transition: all 0.2s ease;
        }

        .card:hover {
            border-color: #6366f1;
            background-color: #fcfdff;
        }
    </style>
    <script async defer src="https://pingoo.c2v2.com/pingoo.js" site-id="7"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PVEQBH93WG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-PVEQBH93WG');
    </script>
</head>
{{ end }}